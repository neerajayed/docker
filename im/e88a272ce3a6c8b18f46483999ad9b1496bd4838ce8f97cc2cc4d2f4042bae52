{"architecture":"amd64","config":{"Hostname":"","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"8080/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","LANG=C.UTF-8","JAVA_HOME=/docker-java-home/jre","JAVA_VERSION=7u151","JAVA_DEBIAN_VERSION=7u151-2.6.11-1~deb8u1","CATALINA_HOME=/usr/local/tomcat","TOMCAT_NATIVE_LIBDIR=/usr/local/tomcat/native-jni-lib","LD_LIBRARY_PATH=/usr/local/tomcat/native-jni-lib","OPENSSL_VERSION=1.1.0f-3+deb9u1","GPG_KEYS=05AB33110949707C93A279E3D3EFE6B686867BA6 07E48665A34DCAFAE522E5E6266191C37C037D42 47309207D818FFD8DCD3F83F1931D684307A10A5 541FBE7D8F78B25E055DDEE13C370389288584E7 61B832AC2F1C5A90F0F9B00A1C506407564C17A3 713DA88BE50911535FE716F5208B0AB1D63011C7 79F7026C690BAA50B92CD8B66A3AD3F4F22C4FED 9BA44C2621385CB966EBA586F72C284D731FABEE A27677289986DB50844682F8ACB77FC2E86E29AC A9C5DF4D22E99998D9875A5110C01C5A2F6059E7 DCFD35E0BF8CA7344752DE8B6FB21E8933C60243 F3A04C595DB5B6A5F1ECA43E3B7BBB100D811BBE F7DA48BB64BCB84ECBA7EE6935CD23C10D498E23","TOMCAT_MAJOR=8","TOMCAT_VERSION=8.0.47","TOMCAT_SHA1=2b5a0d173040f9a576e372cae5d85b05599fd0eb","TOMCAT_TGZ_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz","TOMCAT_ASC_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc"],"Cmd":["catalina.sh","run"],"ArgsEscaped":true,"Image":"sha256:bb2a72c73cb9452ce618f7f23ba3317fb835f7b7dcb742ee3157689520b49df2","Volumes":null,"WorkingDir":"/usr/local/tomcat","Entrypoint":null,"OnBuild":[],"Labels":null},"container":"3ff99141e0a4e8300e0a4f918351ad39f775186766b4361c8263f70e94cc197b","container_config":{"Hostname":"3ff99141e0a4","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"ExposedPorts":{"8080/tcp":{}},"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","LANG=C.UTF-8","JAVA_HOME=/docker-java-home/jre","JAVA_VERSION=7u151","JAVA_DEBIAN_VERSION=7u151-2.6.11-1~deb8u1","CATALINA_HOME=/usr/local/tomcat","TOMCAT_NATIVE_LIBDIR=/usr/local/tomcat/native-jni-lib","LD_LIBRARY_PATH=/usr/local/tomcat/native-jni-lib","OPENSSL_VERSION=1.1.0f-3+deb9u1","GPG_KEYS=05AB33110949707C93A279E3D3EFE6B686867BA6 07E48665A34DCAFAE522E5E6266191C37C037D42 47309207D818FFD8DCD3F83F1931D684307A10A5 541FBE7D8F78B25E055DDEE13C370389288584E7 61B832AC2F1C5A90F0F9B00A1C506407564C17A3 713DA88BE50911535FE716F5208B0AB1D63011C7 79F7026C690BAA50B92CD8B66A3AD3F4F22C4FED 9BA44C2621385CB966EBA586F72C284D731FABEE A27677289986DB50844682F8ACB77FC2E86E29AC A9C5DF4D22E99998D9875A5110C01C5A2F6059E7 DCFD35E0BF8CA7344752DE8B6FB21E8933C60243 F3A04C595DB5B6A5F1ECA43E3B7BBB100D811BBE F7DA48BB64BCB84ECBA7EE6935CD23C10D498E23","TOMCAT_MAJOR=8","TOMCAT_VERSION=8.0.47","TOMCAT_SHA1=2b5a0d173040f9a576e372cae5d85b05599fd0eb","TOMCAT_TGZ_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz","TOMCAT_ASC_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc"],"Cmd":["/bin/sh","-c","#(nop) ","CMD [\"catalina.sh\" \"run\"]"],"ArgsEscaped":true,"Image":"sha256:bb2a72c73cb9452ce618f7f23ba3317fb835f7b7dcb742ee3157689520b49df2","Volumes":null,"WorkingDir":"/usr/local/tomcat","Entrypoint":null,"OnBuild":[],"Labels":{}},"created":"2017-11-14T18:09:33.565488186Z","docker_version":"17.06.2-ce","history":[{"created":"2017-11-04T05:21:35.784180004Z","created_by":"/bin/sh -c #(nop) ADD file:55b071e2cfc3ea2f4bbf048d7d676e3c06a77a9a98d63f7af291f3decb495ec8 in / "},{"created":"2017-11-04T05:21:36.243252902Z","created_by":"/bin/sh -c #(nop)  CMD [\"bash\"]","empty_layer":true},{"created":"2017-11-04T15:25:24.540808567Z","created_by":"/bin/sh -c apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \t\tca-certificates \t\tcurl \t\twget \t\u0026\u0026 rm -rf /var/lib/apt/lists/*"},{"created":"2017-11-04T15:25:25.417510786Z","created_by":"/bin/sh -c set -ex; \tif ! command -v gpg \u003e /dev/null; then \t\tapt-get update; \t\tapt-get install -y --no-install-recommends \t\t\tgnupg \t\t\tdirmngr \t\t; \t\trm -rf /var/lib/apt/lists/*; \tfi","empty_layer":true},{"created":"2017-11-04T18:50:48.339304186Z","created_by":"/bin/sh -c apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \t\tbzip2 \t\tunzip \t\txz-utils \t\u0026\u0026 rm -rf /var/lib/apt/lists/*"},{"created":"2017-11-04T18:50:50.734467183Z","created_by":"/bin/sh -c #(nop)  ENV LANG=C.UTF-8","empty_layer":true},{"created":"2017-11-04T18:50:51.469665554Z","created_by":"/bin/sh -c { \t\techo '#!/bin/sh'; \t\techo 'set -e'; \t\techo; \t\techo 'dirname \"$(dirname \"$(readlink -f \"$(which javac || which java)\")\")\"'; \t} \u003e /usr/local/bin/docker-java-home \t\u0026\u0026 chmod +x /usr/local/bin/docker-java-home"},{"created":"2017-11-04T18:50:52.177421162Z","created_by":"/bin/sh -c ln -svT \"/usr/lib/jvm/java-7-openjdk-$(dpkg --print-architecture)\" /docker-java-home"},{"created":"2017-11-04T18:50:54.265155221Z","created_by":"/bin/sh -c #(nop)  ENV JAVA_HOME=/docker-java-home/jre","empty_layer":true},{"created":"2017-11-04T18:50:54.453800962Z","created_by":"/bin/sh -c #(nop)  ENV JAVA_VERSION=7u151","empty_layer":true},{"created":"2017-11-04T18:50:54.642932074Z","created_by":"/bin/sh -c #(nop)  ENV JAVA_DEBIAN_VERSION=7u151-2.6.11-1~deb8u1","empty_layer":true},{"created":"2017-11-04T18:52:06.464894117Z","created_by":"/bin/sh -c set -ex; \t\tif [ ! -d /usr/share/man/man1 ]; then \t\tmkdir -p /usr/share/man/man1; \tfi; \t\tapt-get update; \tapt-get install -y \t\topenjdk-7-jre=\"$JAVA_DEBIAN_VERSION\" \t; \trm -rf /var/lib/apt/lists/*; \t\t[ \"$(readlink -f \"$JAVA_HOME\")\" = \"$(docker-java-home)\" ]; \t\tupdate-alternatives --get-selections | awk -v home=\"$(readlink -f \"$JAVA_HOME\")\" 'index($3, home) == 1 { $2 = \"manual\"; print | \"update-alternatives --set-selections\" }'; \tupdate-alternatives --query java | grep -q 'Status: manual'"},{"created":"2017-11-04T21:29:55.398987829Z","created_by":"/bin/sh -c #(nop)  ENV CATALINA_HOME=/usr/local/tomcat","empty_layer":true},{"created":"2017-11-04T21:29:55.69646466Z","created_by":"/bin/sh -c #(nop)  ENV PATH=/usr/local/tomcat/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","empty_layer":true},{"created":"2017-11-04T21:29:56.957760131Z","created_by":"/bin/sh -c mkdir -p \"$CATALINA_HOME\""},{"created":"2017-11-04T21:29:57.225973227Z","created_by":"/bin/sh -c #(nop) WORKDIR /usr/local/tomcat","empty_layer":true},{"created":"2017-11-04T21:29:57.441601379Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_NATIVE_LIBDIR=/usr/local/tomcat/native-jni-lib","empty_layer":true},{"created":"2017-11-04T21:29:57.681940898Z","created_by":"/bin/sh -c #(nop)  ENV LD_LIBRARY_PATH=/usr/local/tomcat/native-jni-lib","empty_layer":true},{"created":"2017-11-14T18:06:37.234861817Z","created_by":"/bin/sh -c #(nop)  ENV OPENSSL_VERSION=1.1.0f-3+deb9u1","empty_layer":true},{"created":"2017-11-14T18:06:38.2377569Z","created_by":"/bin/sh -c set -ex; \tif ! grep -q stretch /etc/apt/sources.list; then \t\t{ \t\t\techo 'deb http://deb.debian.org/debian stretch main'; \t\t\techo 'deb http://security.debian.org stretch/updates main'; \t\t\techo 'deb http://deb.debian.org/debian stretch-updates main'; \t\t} \u003e /etc/apt/sources.list.d/stretch.list; \t\t{ \t\t\techo 'Package: *'; \t\t\techo 'Pin: release n=stretch*'; \t\t\techo 'Pin-Priority: -10'; \t\t\techo; \t\t\techo 'Package: openssl libssl*'; \t\t\techo \"Pin: version $OPENSSL_VERSION\"; \t\t\techo 'Pin-Priority: 990'; \t\t} \u003e /etc/apt/preferences.d/stretch-openssl; \tfi"},{"created":"2017-11-14T18:06:53.473035243Z","created_by":"/bin/sh -c apt-get update \u0026\u0026 apt-get install -y --no-install-recommends \t\tlibapr1 \t\topenssl=\"$OPENSSL_VERSION\" \t\u0026\u0026 rm -rf /var/lib/apt/lists/*"},{"created":"2017-11-14T18:06:53.665743692Z","created_by":"/bin/sh -c #(nop)  ENV GPG_KEYS=05AB33110949707C93A279E3D3EFE6B686867BA6 07E48665A34DCAFAE522E5E6266191C37C037D42 47309207D818FFD8DCD3F83F1931D684307A10A5 541FBE7D8F78B25E055DDEE13C370389288584E7 61B832AC2F1C5A90F0F9B00A1C506407564C17A3 713DA88BE50911535FE716F5208B0AB1D63011C7 79F7026C690BAA50B92CD8B66A3AD3F4F22C4FED 9BA44C2621385CB966EBA586F72C284D731FABEE A27677289986DB50844682F8ACB77FC2E86E29AC A9C5DF4D22E99998D9875A5110C01C5A2F6059E7 DCFD35E0BF8CA7344752DE8B6FB21E8933C60243 F3A04C595DB5B6A5F1ECA43E3B7BBB100D811BBE F7DA48BB64BCB84ECBA7EE6935CD23C10D498E23","empty_layer":true},{"created":"2017-11-14T18:07:02.573884559Z","created_by":"/bin/sh -c set -ex; \tfor key in $GPG_KEYS; do \t\tgpg --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\"; \tdone"},{"created":"2017-11-14T18:08:42.285691521Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_MAJOR=8","empty_layer":true},{"created":"2017-11-14T18:08:42.481055217Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_VERSION=8.0.47","empty_layer":true},{"created":"2017-11-14T18:08:42.657420869Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_SHA1=2b5a0d173040f9a576e372cae5d85b05599fd0eb","empty_layer":true},{"created":"2017-11-14T18:08:42.842724001Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_TGZ_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz","empty_layer":true},{"created":"2017-11-14T18:08:43.021235071Z","created_by":"/bin/sh -c #(nop)  ENV TOMCAT_ASC_URLS=https://www.apache.org/dyn/closer.cgi?action=download\u0026filename=tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www-us.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://www.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc \thttps://archive.apache.org/dist/tomcat/tomcat-8/v8.0.47/bin/apache-tomcat-8.0.47.tar.gz.asc","empty_layer":true},{"created":"2017-11-14T18:09:31.841538657Z","created_by":"/bin/sh -c set -eux; \t\tsuccess=; \tfor url in $TOMCAT_TGZ_URLS; do \t\tif wget -O tomcat.tar.gz \"$url\"; then \t\t\tsuccess=1; \t\t\tbreak; \t\tfi; \tdone; \t[ -n \"$success\" ]; \t\techo \"$TOMCAT_SHA1 *tomcat.tar.gz\" | sha1sum -c -; \t\tsuccess=; \tfor url in $TOMCAT_ASC_URLS; do \t\tif wget -O tomcat.tar.gz.asc \"$url\"; then \t\t\tsuccess=1; \t\t\tbreak; \t\tfi; \tdone; \t[ -n \"$success\" ]; \t\tgpg --batch --verify tomcat.tar.gz.asc tomcat.tar.gz; \ttar -xvf tomcat.tar.gz --strip-components=1; \trm bin/*.bat; \trm tomcat.tar.gz*; \t\tnativeBuildDir=\"$(mktemp -d)\"; \ttar -xvf bin/tomcat-native.tar.gz -C \"$nativeBuildDir\" --strip-components=1; \tnativeBuildDeps=\" \t\tdpkg-dev \t\tgcc \t\tlibapr1-dev \t\tlibssl-dev \t\tmake \t\topenjdk-${JAVA_VERSION%%[-~bu]*}-jdk=$JAVA_DEBIAN_VERSION \t\"; \tapt-get update; \tapt-get install -y --no-install-recommends $nativeBuildDeps; \trm -rf /var/lib/apt/lists/*; \t( \t\texport CATALINA_HOME=\"$PWD\"; \t\tcd \"$nativeBuildDir/native\"; \t\tgnuArch=\"$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)\"; \t\t./configure \t\t\t--build=\"$gnuArch\" \t\t\t--libdir=\"$TOMCAT_NATIVE_LIBDIR\" \t\t\t--prefix=\"$CATALINA_HOME\" \t\t\t--with-apr=\"$(which apr-1-config)\" \t\t\t--with-java-home=\"$(docker-java-home)\" \t\t\t--with-ssl=yes; \t\tmake -j \"$(nproc)\"; \t\tmake install; \t); \tapt-get purge -y --auto-remove $nativeBuildDeps; \trm -rf \"$nativeBuildDir\"; \trm bin/tomcat-native.tar.gz; \t\tfind ./bin/ -name '*.sh' -exec sed -ri 's|^#!/bin/sh$|#!/usr/bin/env bash|' '{}' +"},{"created":"2017-11-14T18:09:33.202035687Z","created_by":"/bin/sh -c set -e \t\u0026\u0026 nativeLines=\"$(catalina.sh configtest 2\u003e\u00261)\" \t\u0026\u0026 nativeLines=\"$(echo \"$nativeLines\" | grep 'Apache Tomcat Native')\" \t\u0026\u0026 nativeLines=\"$(echo \"$nativeLines\" | sort -u)\" \t\u0026\u0026 if ! echo \"$nativeLines\" | grep 'INFO: Loaded APR based Apache Tomcat Native library' \u003e\u00262; then \t\techo \u003e\u00262 \"$nativeLines\"; \t\texit 1; \tfi"},{"created":"2017-11-14T18:09:33.36983191Z","created_by":"/bin/sh -c #(nop)  EXPOSE 8080/tcp","empty_layer":true},{"created":"2017-11-14T18:09:33.565488186Z","created_by":"/bin/sh -c #(nop)  CMD [\"catalina.sh\" \"run\"]","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:c01c63c6823dd8a296c2134ea94d31121069f1c52f8f8789836bc7ea2e5cdc93","sha256:d9a5f9b8d5c253a3bf7251335cc6a2f244de04b86900fd5939274dddeb908490","sha256:012d3844682d2a91fd793f459503a793b148764854cf16c7fa32cd30a581c2c4","sha256:55b61fba7f813699b4b00026a0225dea82a77f34b181334c5233bb9455300d42","sha256:8d9ea4d13ecb4dda8528553e0e05343754d6e27d7dc72f544f5ff41121490615","sha256:ead0d5a288b2276d4709d8c21e2d2186f60433a548deb8452e203c5fb959df82","sha256:75aa9ab12139ff2b7874fb5cdad015fe3e9756892081c79933ff063782afb30e","sha256:537341858c8a66fe817b76ce04dfbf1e8fadf650f6ac9657e4f0a6db3f083aef","sha256:67a8816ca977f646b097d342037378b9a2b968ab7b8aa354ca3b63632b3ada77","sha256:5ca0ef39514df1c3eed8266099289b8f20fc7b18fa1838a540c227c9064de71e","sha256:5c55838ffeba8bf7215f18cdc286c68758507f2793afbd16fc8b9569dca7cfb8","sha256:83cec2d9a658e766624968f88e7ff1596e7ec6afd208dc01dad6e350f7f31b69"]}}